Ferramentas usadas

Usei:

Console.log() inspeciona valores no momento do erro.

Try/Catch + console.error() identifica onde o código quebrava.

Node.js Runtime para rodar o arquivo e observar erros em tempo real.

Onde estavam os bugs

1. Arquivo users.js está errado

users

Erros encontrados:

{ "nome": "Ana", idade: 22 }
{ "nome": Carlos, "idade": 17 }
{ nome: "Beatriz", "idade": 30 }

Problemas:

- Falta colchetes [] de array.

- Faltam vírgulas entre objetos.

- Chaves sem aspas.

- Valores sem aspas.

- Estrutura não reconhecida por JSON.parse() causa erro.

2. O código lê usuarios.json, mas o arquivo enviado é users.js

3. A função exibirMensagem() usa uma variável que não existe

Correções realizadas

1. Corrigi o arquivo users.js transformando em um JSON válido

Criei o arquivo usuarios.json (nome correto esperado pelo código)

2. Ajustei o nome do arquivo lido em app.js

3. Corrigi a função exibirMensagem()


Código corrigido (app.js)

const fs = require('fs');

function carregarUsuarios() {
  fs.readFile('usuarios.json', 'utf8', (err, dados) => {
    if (err) {
      console.log('Erro ao ler o arquivo:', err.message);
    } else {
      try {
        const usuarios = JSON.parse(dados);
        filtrarUsuarios(usuarios);
      } catch (erro) {
        console.error("Erro ao analisar JSON:", erro.message);
      }
    }
  });
}

function filtrarUsuarios(lista) {
  const resultado = lista.filter((usuario) => usuario.idade > 18);
  console.log('Usuários maiores de idade:');
  resultado.forEach((u) => {
    console.log(`- ${u.nome} (${u.idade} anos)`);
  });
}

function exibirMensagem() {
  const mensagem = "Processo finalizado com sucesso!";
  console.log(mensagem);
}

function main() {
  carregarUsuarios();
  exibirMensagem();
}

main();
